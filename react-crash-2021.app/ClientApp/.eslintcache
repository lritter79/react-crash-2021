[{"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\index.js":"1","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\Constant.js":"2","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\About.js":"3","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\api-authorization\\Logout.js":"4","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\AlertCenter.js":"5","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\Footer.js":"6","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\comment-components\\Comment.js":"7","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-tracker\\Task.js":"8","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\reportWebVitals.js":"9","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\api-authorization\\UserManager.js":"10","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\api-authorization\\UserFunctions.js":"11","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\AppNavbar.js":"12","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\toast\\ToastContext.js":"13","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\App.js":"14","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\api-authorization\\UserContext.js":"15","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-crud-operations\\FetchTasks.js":"16","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-tracker\\AddTask.js":"17","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-crud-operations\\CrudOperations.js":"18","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\api-authorization\\RegisterAndLoginRoutes.js":"19","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-tracker\\TaskTracker.js":"20","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-tracker\\Calendar.js":"21","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\comment-components\\CommentForm.js":"22","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\Button.js":"23","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-crud-operations\\CreateTask.js":"24","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\comment-components\\Comments.js":"25","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-crud-operations\\DeleteTask.js":"26","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-crud-operations\\UpdateTask.js":"27","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\TaskDetails.js":"28","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-tracker\\Tasks.js":"29","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\comment-components\\CommentSection.js":"30","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\toast\\Toast.js":"31","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\FormatDateString.js":"32","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\Helpers.js":"33","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\api-authorization\\Login.js":"34","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\EditTask.js":"35","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-tracker\\CoolColor.js":"36","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-tracker\\Header.js":"37"},{"size":1019,"mtime":1616710682383,"results":"38","hashOfConfig":"39"},{"size":232,"mtime":1614736916073,"results":"40","hashOfConfig":"39"},{"size":280,"mtime":1614736916063,"results":"41","hashOfConfig":"39"},{"size":198,"mtime":1614736916166,"results":"42","hashOfConfig":"39"},{"size":1558,"mtime":1616710682283,"results":"43","hashOfConfig":"39"},{"size":942,"mtime":1616537402522,"results":"44","hashOfConfig":"39"},{"size":235,"mtime":1616002415422,"results":"45","hashOfConfig":"39"},{"size":1731,"mtime":1617204628099,"results":"46","hashOfConfig":"39"},{"size":375,"mtime":1614736916191,"results":"47","hashOfConfig":"39"},{"size":7475,"mtime":1616710682340,"results":"48","hashOfConfig":"39"},{"size":1702,"mtime":1616710682333,"results":"49","hashOfConfig":"39"},{"size":2424,"mtime":1617218319520,"results":"50","hashOfConfig":"39"},{"size":2966,"mtime":1616002415447,"results":"51","hashOfConfig":"39"},{"size":8388,"mtime":1617040216712,"results":"52","hashOfConfig":"39"},{"size":1104,"mtime":1616710682324,"results":"53","hashOfConfig":"39"},{"size":351,"mtime":1615654121240,"results":"54","hashOfConfig":"39"},{"size":5332,"mtime":1617126228051,"results":"55","hashOfConfig":"39"},{"size":363,"mtime":1616002415431,"results":"56","hashOfConfig":"39"},{"size":699,"mtime":1616002415575,"results":"57","hashOfConfig":"39"},{"size":4485,"mtime":1617116457781,"results":"58","hashOfConfig":"39"},{"size":4342,"mtime":1617211671595,"results":"59","hashOfConfig":"39"},{"size":1678,"mtime":1616710682348,"results":"60","hashOfConfig":"39"},{"size":614,"mtime":1617126168417,"results":"61","hashOfConfig":"39"},{"size":531,"mtime":1616710682362,"results":"62","hashOfConfig":"39"},{"size":371,"mtime":1616002415429,"results":"63","hashOfConfig":"39"},{"size":359,"mtime":1615654121229,"results":"64","hashOfConfig":"39"},{"size":925,"mtime":1617057220456,"results":"65","hashOfConfig":"39"},{"size":4837,"mtime":1617138187744,"results":"66","hashOfConfig":"39"},{"size":3847,"mtime":1617212243991,"results":"67","hashOfConfig":"39"},{"size":535,"mtime":1616710682354,"results":"68","hashOfConfig":"39"},{"size":2936,"mtime":1616002415445,"results":"69","hashOfConfig":"39"},{"size":290,"mtime":1616710682294,"results":"70","hashOfConfig":"39"},{"size":159,"mtime":1616710682279,"results":"71","hashOfConfig":"39"},{"size":3082,"mtime":1616710682306,"results":"72","hashOfConfig":"39"},{"size":3975,"mtime":1617118966063,"results":"73","hashOfConfig":"39"},{"size":307,"mtime":1617211671605,"results":"74","hashOfConfig":"39"},{"size":901,"mtime":1616002415561,"results":"75","hashOfConfig":"39"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},"ea2nox",{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"81"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"78"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":null},{"filePath":"106","messages":"107","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"108","usedDeprecatedRules":"109"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"112","usedDeprecatedRules":"113"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"116"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"119","usedDeprecatedRules":"120"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"123","usedDeprecatedRules":"109"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"126","usedDeprecatedRules":"109"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"131","usedDeprecatedRules":"132"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":1,"source":"135","usedDeprecatedRules":"109"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"140","messages":"141","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":null},{"filePath":"142","messages":"143","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"144","messages":"145","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"146","usedDeprecatedRules":"109"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"151","usedDeprecatedRules":"84"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"154","messages":"155","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":1,"source":null},{"filePath":"156","messages":"157","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"158","usedDeprecatedRules":"84"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"161"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"164","usedDeprecatedRules":"161"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"167","messages":"168","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"169","messages":"170","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"171","messages":"172","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\index.js",[],["173","174"],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\Constant.js",[],["175","176"],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\About.js",[],["177","178"],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\api-authorization\\Logout.js",[],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\AlertCenter.js",[],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\Footer.js",[],["179","180"],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\comment-components\\Comment.js",[],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-tracker\\Task.js",[],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\reportWebVitals.js",[],["181","182"],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\api-authorization\\UserManager.js",["183","184","185","186"],"import { useState, useEffect } from 'react'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Constant from '../Constant'\r\nimport userFunctions from './UserFunctions'\r\nimport { useShowToast } from '../toast/ToastContext'\r\nimport { useToken } from './UserContext'\r\nimport Helpers from '../../Helpers'\r\n\r\n\r\nconst UserManager = ({ handleLogout }) => {\r\n    //console.log(`id: ${id}`)\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [user, setUser] = useState()\r\n    const [showDeleteForm, setShowDeleteForm] = useState(false)\r\n    const [deleteDisabled, setDeleteDisabled] = useState(false)\r\n    const [submitDisabled, setSubmitDisabled] = useState(false)\r\n    const { token } = useToken()\r\n\r\n    const onSave = useShowToast()\r\n    //https://stackoverflow.com/questions/53120972/how-to-call-loading-function-with-react-useeffect-only-once\r\n\r\n    useEffect(() => {\r\n\r\n        const getUser = async () => {\r\n            try {\r\n                //\r\n                //(CrudOperations)                               \r\n                console.log('getting user')\r\n                //console.log(`user = ${userId}`)\r\n                if (token != undefined) {\r\n                    const userData = await userFunctions.getUser(token?.id, token?.token)\r\n                    setUser(userData)\r\n                    setIsLoading(false)\r\n                }\r\n\r\n            } catch (error) {\r\n                console.log(error)\r\n                onSave('error', error)\r\n            }\r\n        }\r\n\r\n        getUser()\r\n        \r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        return function cleanup() {\r\n            //console.log('clean up')\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        //console.log('user use effect')\r\n        //if (isChecked != undefined) {\r\n        //    //const updatedUser = await userFunctions.saveUser({ user, id, token })        \r\n        //}\r\n        //else {\r\n        //    console.log('first time')\r\n        //}\r\n        //console.log('set')\r\n    }, [user])\r\n\r\n    useEffect(() => {\r\n        console.log('isLoading use effect')\r\n    }, [isLoading])\r\n\r\n    \r\n\r\n\r\n    async function updateUser(appUser) {\r\n        \r\n        return fetch(`${Constant()}/api/users/${token?.id}`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Authorization': 'Bearer ' + token?.token,\r\n                'Content-type': 'application/json',\r\n            },\r\n            body: JSON.stringify(appUser),\r\n        })\r\n            .then(function (data) {\r\n               onSave('success', 'Your changes have been saved')\r\n               return data.json()\r\n            })\r\n            .catch((error) => {\r\n               onSave('error', error)\r\n            })\r\n    }\r\n\r\n    const sleep = (milliseconds) => {\r\n        return new Promise(resolve => setTimeout(resolve, milliseconds))\r\n    }\r\n\r\n    const onSubmit = async e => {\r\n        e.preventDefault()\r\n        setSubmitDisabled(true)\r\n        let res = await updateUser(user)  \r\n        await sleep(1000)\r\n        setSubmitDisabled(false)\r\n    }\r\n\r\n    const onSubmitDelete = async e => {\r\n        e.preventDefault()\r\n        setDeleteDisabled(true)\r\n        setShowDeleteForm(true)\r\n        //handleLogout(e)\r\n        //let res = await deleteAccount(id)\r\n    }\r\n\r\n    const onDelete = async e => {\r\n        e.preventDefault()\r\n        handleLogout(e)\r\n        let res = await deleteAccount()\r\n    }\r\n\r\n    async function deleteAccount() {\r\n        return fetch(`${Constant()}/api/users/${token?.id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Authorization': 'Bearer ' + token?.token,\r\n                'Content-type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ userId: token?.id }),\r\n        })\r\n        .then(data => data.json())\r\n        .catch((error) => {\r\n            console.error('Fetch Error:', error);\r\n        });\r\n    }  \r\n\r\n    return (\r\n        <>\r\n            {isLoading ? (\r\n                <p>Loading...</p>\r\n            ):\r\n                (<div>\r\n                    {showDeleteForm && (\r\n                        <div className='popup'>\r\n                            <div className='popupForm'>\r\n                                <form>\r\n                                    <label for=\"\">Are you sure?</label>\r\n                                    <br />\r\n                                    <button\r\n                                        className='btn'\r\n                                        style={{ backgroundColor: 'green' }}\r\n                                        onClick={onDelete}\r\n                                    >\r\n                                        Yes\r\n                                    </button>\r\n                                    <button\r\n                                        type='submit'\r\n                                        className='btn'\r\n                                        style={{ backgroundColor: 'red' }}\r\n                                        onClick={function () {\r\n                                            setDeleteDisabled(false)\r\n                                            setShowDeleteForm(false)\r\n                                        }}\r\n                                    >\r\n                                        Cancel\r\n                                    </button>\r\n\r\n                                </form>\r\n                            </div>                          \r\n                        </div>\r\n                    )}\r\n                    <Form onSubmit={onSubmit}>\r\n                        <Form.Group>\r\n                            <Form.Check\r\n                                type=\"checkbox\"\r\n                                label=\"Open To Collaboration?: \"\r\n                                checked={user.isOpenToCollaboration}\r\n                                onChange={(e) => setUser({ ...user, isOpenToCollaboration: e.currentTarget.checked })} />\r\n                        </Form.Group>\r\n                        <Form.Group>\r\n                            <Form.Label>\r\n                                Bio: \r\n                            </Form.Label>\r\n                            <Form.Control\r\n                                as=\"textarea\"\r\n                                rows={3}\r\n                                placeholder=''\r\n                                value={Helpers.replaceNullWithEmptyString(user?.bio)}\r\n                                onChange={(e) => setUser({ ...user, bio: e.target.value })}\r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <button\r\n                            type='submit'\r\n                            className='btn btn-block'\r\n                            style={{ backgroundColor: 'green' }}\r\n                            disabled={submitDisabled}\r\n                        >\r\n                            Save Changes\r\n                        </button>\r\n                    </Form>\r\n\r\n                    <form onSubmit={onSubmitDelete}>\r\n                        <button\r\n                            type='submit'\r\n                            className='btn'\r\n                            style={{ backgroundColor: 'red' }}\r\n                            disabled={deleteDisabled}\r\n                        >\r\n                            Delete Account\r\n                        </button>\r\n                    </form >                 \r\n                    \r\n                </div>)}\r\n            \r\n        </>\r\n   )\r\n}\r\n\r\nexport default UserManager","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\api-authorization\\UserFunctions.js",[],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\AppNavbar.js",["187","188"],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\toast\\ToastContext.js",["189"],"import React, { useContext, useState } from 'react'\r\nimport checkIcon from '../../assets/check.svg';\r\nimport errorIcon from '../../assets/error.svg';\r\nimport infoIcon from '../../assets/info.svg';\r\nimport warningIcon from '../../assets/warning.svg';\r\n\r\n\r\nconst ToastListContext = React.createContext()\r\nconst ShowToastContext = React.createContext()\r\n\r\nexport function useToast() {\r\n    return useContext(ToastListContext)\r\n}\r\n\r\nexport function useShowToast() {\r\n    return useContext(ShowToastContext)\r\n}\r\n\r\nexport function ToastProvider({ children }) {\r\n    const [list, setList] = useState([])\r\n\r\n    const showToast = (type, text) => {\r\n        let toastProperties = null\r\n        const id = Math.floor((Math.random() * 100) + 1)\r\n        //console.log('type: ' + type)\r\n        switch (type) {\r\n            case 'error':\r\n                toastProperties = {\r\n                    id,\r\n                    title: 'Error!',\r\n                    description: `${text}`,\r\n                    backgroundColor: 'salmon',\r\n                    icon: errorIcon\r\n                }\r\n                break\r\n            case 'success':\r\n                toastProperties = {\r\n                    id,\r\n                    title: 'Success!',\r\n                    description: `${text}`,\r\n                    backgroundColor: '#5cb85c',\r\n                    icon: checkIcon\r\n                }\r\n                break\r\n            case 'info':\r\n                toastProperties = {\r\n                    id,\r\n                    title: 'Info',\r\n                    description: `${text}`,\r\n                    backgroundColor: '#5bc0de',\r\n                    icon: infoIcon\r\n                }\r\n                break\r\n\r\n            default:\r\n                setList([])\r\n        }\r\n        setList([...list, toastProperties])\r\n    }\r\n    //const testList = [\r\n    //    {\r\n    //        id: 1,\r\n    //        title: 'Success',\r\n    //        description: 'This is a success toast component',\r\n    //        backgroundColor: '#5cb85c',\r\n    //        icon: checkIcon\r\n    //    },\r\n    //    {\r\n    //        id: 2,\r\n    //        title: 'Danger',\r\n    //        description: 'This is an error toast component',\r\n    //        backgroundColor: '#d9534f',\r\n    //        icon: errorIcon\r\n    //    },\r\n    //    {\r\n    //        id: 3,\r\n    //        title: 'Info',\r\n    //        description: 'This is an info toast component',\r\n    //        backgroundColor: '#5bc0de',\r\n    //        icon: infoIcon\r\n    //    },\r\n    //    {\r\n    //        id: 4,\r\n    //        title: 'Warning',\r\n    //        description: 'This is a warning toast component',\r\n    //        backgroundColor: '#f0ad4e',\r\n    //        icon: warningIcon\r\n    //    }\r\n    //]\r\n    return (\r\n        <ToastListContext.Provider value={list}>\r\n            <ShowToastContext.Provider value={showToast}>\r\n                {children}\r\n            </ShowToastContext.Provider>\r\n        </ToastListContext.Provider>\r\n    )\r\n}",["190","191"],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\App.js",["192","193","194","195","196","197"],"import { useState, useEffect } from 'react'\r\nimport { BrowserRouter as Router, Route, Redirect } from 'react-router-dom'\r\n//for authorization\r\n//import authService from './api-authorization/AuthorizeService'\r\nimport Footer from './components/Footer'\r\nimport Constant from './components/Constant'\r\nimport * as signalR from '@microsoft/signalr'\r\nimport AlertCenter from './components/AlertCenter'\r\nimport About from './components/About'\r\nimport UserManager from './components/api-authorization/UserManager'\r\nimport UserFunctions from './components/api-authorization/UserFunctions'\r\nimport RegisterAndLoginRoutes from './components/api-authorization/RegisterAndLoginRoutes'\r\nimport Logout from './components/api-authorization/Logout'\r\nimport Toast from './components/toast/Toast'\r\nimport { useShowToast } from './components/toast/ToastContext'\r\nimport TaskDetails from './components/TaskDetails'\r\nimport TaskTracker from './components/task-tracker/TaskTracker'\r\nimport { useToken } from './components/api-authorization/UserContext'\r\nimport AppNavbar from './components/AppNavbar'\r\n\r\n\r\n//import UpdateTask from './components/UpdateTask'\r\n//function setToken(userToken) {\r\n//    sessionStorage.setItem('token', JSON.stringify(userToken));\r\n\r\n//}\r\n\r\n//function getToken() {\r\n\r\n//    const tokenString = sessionStorage.getItem('token');\r\n//    const userToken = JSON.parse(tokenString);\r\n//    //.? is the optional chain operator: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining\r\n//    /*\r\n//     You need to use the optional chaining operator�?.�when accessing the token property because when you \r\n//     first access the application, the value of sessionStorage.getItem('token') will \r\n//     be undefined. If you try to access a property, you will generate an error.\r\n//     */\r\n//    return userToken?.token\r\n//}\r\n//import header and use it like an xml tag\r\n//keeps tasks at the highest level (state)\r\n//changes the state of tasks\r\n//calls fetch tasks whihc returns a promise\r\n//sets tasks as the state\r\nconst App = () => {\r\n    \r\n    const { token, setToken } = useToken()\r\n    //console.log(token)\r\n    const [alerts, setAlerts] = useState([])\r\n    const [checkValue, setCheckValue] = useState(true)\r\n    const [autoDeleteTime, setAutoDeleteTime] = useState(5000)\r\n    const showToast = useShowToast()\r\n    const connection = new signalR.HubConnectionBuilder()\r\n        .withUrl(Constant() + \"/api/alerts\")\r\n        .withAutomaticReconnect()\r\n        .build()\r\n\r\n    const getConnectionId = () => {\r\n        this.hubConnection.invoke('getconnectionid').then(\r\n            (data) => {\r\n                console.log(data);\r\n                this.connectionId = data;\r\n            }\r\n        )\r\n    }\r\n\r\n    const setAlertsOnLogin = async () => {\r\n        let userAlerts = await UserFunctions.getAlertsByUser(token?.id, token?.token)\r\n        setAlerts(userAlerts)\r\n    }\r\n    \r\n\r\n    const removeToken = () => {\r\n        localStorage.removeItem('token');\r\n        setToken(null)\r\n    }\r\n\r\n\r\n    function handleLogoutClick(e) {\r\n        e.preventDefault()       \r\n        removeToken()\r\n    }\r\n\r\n    // Fetch Tasks\r\n    //gets the tasks we have on the server with async java\\\\\r\n    //useEffect(() => {\r\n    //    console.log('changed alerts state')\r\n    //    console.log(alerts)\r\n    //}, [alerts])\r\n\r\n    //useEffect(() => {\r\n    //    console.log('changed check Value')\r\n    //    console.log(checkValue)\r\n    //}, [checkValue])\r\n\r\n    //useEffect(() => {\r\n    //    console.log('changed auto Delete Time state')\r\n    //    console.log(autoDeleteTime)\r\n    //}, [autoDeleteTime])\r\n\r\n    useEffect(() => {\r\n        console.log('using effect in app component')\r\n        // const fetchAlerts = async (id) => {\r\n        //     const res = await fetch(Constant() + `/api/Users/${id}/alerts`, {\r\n        //         method: 'GET',\r\n        //         headers: {\r\n        //             'Authorization': 'Bearer ' + token\r\n        //         }\r\n        //     })\r\n\r\n        //     const data = await res.json()\r\n\r\n        //     return data\r\n        // }\r\n\r\n        // const getAlerts = async () => {\r\n        //     try {\r\n        //         //const tasksFromServer = await fetchAlerts(userId)\r\n        //         //setAlerts(tasksFromServer)\r\n        //     } catch (error) {\r\n        //         showToast('error', error)\r\n        //     }\r\n        // }\r\n\r\n        if (token != undefined) {\r\n            setAlertsOnLogin()\r\n            \r\n            connection.start()\r\n                //.then(async function () {\r\n                //    try {\r\n                //        let res = await connection.invoke('GetUserAlerts', userId)\r\n                //        console.log(res)\r\n                //    }\r\n                //    catch (error) {\r\n                //        console.log(error)\r\n                //    }\r\n                //})\r\n                .then(result => {\r\n                    console.log('building connenction')\r\n                    //console.log(showToast);\r\n                    //showToast('info', 'Connected!')\r\n                    connection.on('sendToReact', alert => {\r\n                        //console.log(alert.message)\r\n                        showToast('info', alert.message)\r\n                        setAlerts(prev => [...prev, alert])\r\n                        //console.log(alerts)\r\n                    })\r\n                })\r\n            .catch(e => console.log('Connection failed: ', e))\r\n            \r\n\r\n            //console.log(userId)\r\n            //getAlerts()\r\n        }\r\n   \r\n        return () => {\r\n            console.log('clean up in app.js')\r\n            if (token != undefined) {\r\n                setAlerts([])\r\n                connection.stop()\r\n            }\r\n\r\n        }\r\n    }, [token])\r\n\r\n    //if there are no tasks, it shows  'No Tasks To Show'\r\n    //short ternary in jsx:\r\n    // {x === y ? (<Thing />) : ('String')}\r\n    //wrap everything in <Router> to use routes\r\n    //exact menas match path exactly\r\n    return (\r\n        \r\n        <Router>        \r\n                <>\r\n                    <div id=\"backdrop\">\r\n\r\n                    </div>\r\n\r\n                    <AppNavbar onLogoutClick={handleLogoutClick} alerts={alerts} />\r\n\r\n                    <div className='container'>\r\n                        <Toast\r\n                            position=\"bottom-right\"\r\n                            autoDelete={checkValue}\r\n                            dismissTime={autoDeleteTime}\r\n                        />\r\n                        <Route path='/about' exact component={About} />\r\n                        <Route path='/logout' exact component={Logout} />\r\n                        {token?.token ? (\r\n                            <>\r\n                                <Route path='/alerts' exact\r\n                                    render={(props) => (\r\n                                        <AlertCenter alerts={alerts} setAlerts={setAlerts} />\r\n                                    )}\r\n                                />\r\n                                <Redirect from='/login' to=\"/\" />\r\n                                <Route path='/userManager' exact\r\n                                render={(props) => (\r\n                                    <UserManager handleLogout={handleLogoutClick} />\r\n                                    )}\r\n                                />\r\n                                <Route path='/' exact\r\n                                    render={(props) => (\r\n                                        <>\r\n                                            <TaskTracker />\r\n                                        </>\r\n\r\n                                    )} />\r\n\r\n                                <Route path='/task/:id' exact\r\n                                    render={(props) => (\r\n                                        <TaskDetails/>\r\n                                    )}\r\n                                />                                                        \r\n                            </>\r\n                        ) : (\r\n                                <>\r\n                                    <RegisterAndLoginRoutes />\r\n                                </>\r\n\r\n                        )}\r\n                        <Footer isLoggedIn={token?.token} />\r\n                    </div>\r\n\r\n                </>\r\n        </Router>\r\n            \r\n    )\r\n}\r\n\r\nexport default App\r\n\r\n",["198","199"],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\api-authorization\\UserContext.js",[],["200","201"],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-crud-operations\\FetchTasks.js",["202"],"﻿import Constant from '../Constant'\r\n\r\nconst FetchTasks = async (id, token) => {\r\n    const res = await fetch(Constant() + `/api/Users/${id}/tasks`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Authorization': 'Bearer ' + token\r\n        }\r\n    })\r\n    const data = await res.json()\r\n\r\n    return data\r\n}\r\n\r\nexport default FetchTasks\r\n",["203","204"],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-tracker\\AddTask.js",["205"],"\r\nimport { useState } from 'react'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Constant from '../Constant'\r\nimport { useShowToast } from '../toast/ToastContext'\r\nimport CreateTask from '../task-crud-operations/CreateTask'\r\nimport { useToken } from '../api-authorization/UserContext'\r\n\r\n//take in the function onAdd\r\nconst AddTask = ({ isToggled, tasks, setTasks, setShowAddTask }) => {\r\n  //more info on what the \"useSate\" hook does here: https://reactjs.org/docs/hooks-state.html\r\n    //in a nutshell useState  is what we use to deal with properties in a function because functions cant have properties\r\n    const { token } = useToken()\r\n  const [text, setText] = useState('')\r\n  const [details, setDetails] = useState('')\r\n  const [location, setLocation] = useState('')\r\n  const [day, setDay] = useState('')\r\n  const [category, setCategory] = useState()\r\n  const [reminder, setReminder] = useState(false)\r\n  const [includeDay, setIncludeDay] = useState(false)\r\n    const showToast = useShowToast()\r\n    // Add Task\r\n    //post because we're adding tasks\r\n    //turns it from js object into json string\r\n    //async function addTask(task) {\r\n        \r\n    //    return fetch(Constant() + '/api/tasks', {\r\n    //        method: 'POST',\r\n    //        headers: {\r\n    //            'Content-type': 'application/json',\r\n    //            'Authorization': 'Bearer ' + token\r\n    //        },\r\n    //        body: JSON.stringify(task)\r\n    //    })\r\n    //       .then(data => data.json())\r\n    //       .catch((error) => {\r\n    //           console.error('Fetch Error:', error);\r\n    //       });\r\n\r\n        \r\n    //}\r\n\r\n  const onSubmit = async (e) => {\r\n    //e.preventDefault() is so it doesnt actually submit to the page\r\n    e.preventDefault()\r\n\r\n    //filters if text is blank\r\n      if (!(text.trim())) {\r\n      alert('Please add a task')\r\n      return\r\n    }\r\n\r\n    if (includeDay && !day) {\r\n      alert('Please add a datetime')\r\n      return\r\n    }\r\n      let dayVal = includeDay ? day : null\r\n      const didAdd = await CreateTask({ text, details, location, day: dayVal, reminder, userId: token?.id, isCompleted: false }, token?.token)\r\n      //console.log(didAdd)\r\n      //data returned is the new task\r\n      //const data = await res.json()\r\n      //take existings takes and add data on\r\n      if (!('error' in didAdd)) {\r\n          setTasks([...tasks, didAdd])\r\n          showToast('success', `Added \"${text}\"`)\r\n          setShowAddTask(false)\r\n          //clears the form\r\n          setText('')\r\n          setDay('')\r\n          setLocation('')\r\n          setDetails('')\r\n          setReminder(false)\r\n      }\r\n      else {\r\n          //console.log('added')\r\n          showToast('error', didAdd.error)\r\n      }\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={isToggled ? 'taskForm' : 'taskForm hidden'}>\r\n      <Form onSubmit={onSubmit}>\r\n        <Form.Group>\r\n          <Form.Label>Task</Form.Label>\r\n          <Form.Control \r\n                      type='text'\r\n                      maxLength='30'\r\n                      placeholder=''\r\n                      value={text}\r\n                      onChange={(e) => setText(e.target.value)} />\r\n        </Form.Group>\r\n\r\n        <Form.Group>\r\n          <Form.Label>Category: </Form.Label>\r\n          <Form.Control \r\n                  type='text'\r\n                      placeholder=''\r\n                      value={category}\r\n                  onChange={(e) => setCategory(e.target.value)}\r\n                  />\r\n        </Form.Group>\r\n        <Form.Group>\r\n          <Form.Label>Location: </Form.Label>\r\n          <Form.Control \r\n                  type='text'\r\n                  placeholder=''\r\n                  value={location}\r\n                  onChange={(e) => setLocation(e.target.value)}\r\n                  />\r\n        </Form.Group>\r\n        <Form.Group>\r\n          <Form.Label>Details: </Form.Label>\r\n          <Form.Control \r\n                  as=\"textarea\"\r\n                  rows={3}\r\n                  placeholder=''\r\n                  value={details}                  \r\n                  onChange={(e) => setDetails(e.target.value)}\r\n                  />\r\n        </Form.Group>\r\n        <Form.Group>\r\n          <Form.Check \r\n            type=\"checkbox\" \r\n            label=\"Include Date?\"\r\n            checked={includeDay}\r\n            value={includeDay}\r\n            onChange={(e) => setIncludeDay(e.currentTarget.checked)} \r\n          />\r\n        </Form.Group>\r\n        {includeDay && \r\n          <Form.Group>\r\n            <Form.Label>Day & Time: </Form.Label>\r\n            <Form.Control \r\n              type='datetime-local'\r\n              placeholder='Add Day & Time'\r\n              value={day}\r\n              onChange={(e) => setDay(e.target.value)}/>\r\n          </Form.Group>\r\n        }\r\n        <Form.Group>\r\n          <Form.Check \r\n            type=\"checkbox\" \r\n            label=\"Set Reminder\"\r\n            checked={reminder}\r\n            value={reminder}\r\n            onChange={(e) => setReminder(e.currentTarget.checked)} \r\n          />\r\n        </Form.Group>\r\n        \r\n        <button\r\n            type='submit'\r\n            className='btn btn-block'\r\n            style={{ backgroundColor: 'skyblue', color: 'white' }}\r\n          >\r\n            Save Task\r\n        </button>\r\n\r\n      </Form>\r\n    </div>\r\n\r\n    \r\n  )\r\n}\r\n\r\nexport default AddTask\r\n","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-crud-operations\\CrudOperations.js",["206"],"﻿import CreateTask from './CreateTask'\r\nimport DeleteTask from './DeleteTask'\r\nimport FetchTask from './FetchTask'\r\nimport FetchTasks from './FetchTasks'\r\nimport UpdateTask from './UpdateTask'\r\n\r\nconst CrudOperations = {\r\n        CreateTask,\r\n        DeleteTask,\r\n        FetchTask,\r\n        FetchTasks,\r\n        UpdateTask\r\n}\r\n\r\n\r\nexport default CrudOperations","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\api-authorization\\RegisterAndLoginRoutes.js",[],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-tracker\\TaskTracker.js",["207","208","209"],"import Constant from '../Constant'\r\nimport CrudOperations from '../task-crud-operations/CrudOperations'\r\nimport Header from '../task-tracker/Header'\r\nimport AddTask from '../task-tracker/AddTask'\r\nimport Tasks from '../task-tracker/Tasks'\r\nimport { useState, useEffect } from 'react'\r\nimport { useShowToast } from '../toast/ToastContext'\r\nimport { useToken} from '../api-authorization/UserContext'\r\nimport Calendar from './Calendar'\r\nimport Button from '../Button'\r\n\r\nconst TaskTracker = () => {\r\n        //showAddTask = current state\r\n    //setShowAddTask = function that aloows you to update the current state\r\n    //when you update state, the component rerenders\r\n    const { token } = useToken()\r\n    const [showAddTask, setShowAddTask] = useState(false)\r\n    const [tasks, setTasks] = useState([])\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const showToast = useShowToast()\r\n    const [showCalendarView, setShowCalendarView] = useState(false)\r\n   \r\n    useEffect(() => {\r\n        //console.log('task tracker use effect')\r\n        const getTasks = async () => {\r\n            try {\r\n                //console.log(CrudOperations)                               \r\n                //console.log(`token = ${token}`)\r\n                //console.log(`user = ${userId}`)\r\n                if (token != undefined) {\r\n                    const tasksFromServer = await CrudOperations.FetchTasks(token?.id, token?.token)\r\n                    setIsLoading(false)\r\n                    setTasks(tasksFromServer)\r\n                }\r\n                \r\n            } catch (error) {\r\n                showToast('error', error)\r\n            }\r\n        }\r\n\r\n        getTasks()\r\n\r\n        return function cleanup() {\r\n            setTasks([])\r\n        }\r\n    }, [])\r\n\r\n    const onDelete = async (id) => {\r\n        await CrudOperations.DeleteTask(id, token?.token)\r\n        //.filter removes the task with the same id as the id passed up\r\n        setTasks(tasks.filter((task) => task.id !== id))\r\n    }\r\n\r\n    // Toggle Reminder\r\n    //takes id so it knows which on to toggle\r\n    const toggleReminder = async (taskToToggle) => {\r\n        try {\r\n            //const taskToToggle = await CrudOperations.FetchTask(id, token)\r\n            const updTask = { ...taskToToggle, reminder: !taskToToggle.reminder }\r\n            //console.log(updTask)\r\n            const res = await fetch(`${Constant()}/api/tasks/${taskToToggle.id}`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token?.token\r\n                },\r\n                body: JSON.stringify(updTask)\r\n            })\r\n\r\n            const data = await res.json()\r\n\r\n            setTasks(\r\n                tasks.map((task) =>\r\n                    task.id === taskToToggle.id ? { ...task, reminder: data.reminder } : task\r\n                )\r\n            )\r\n        } catch (error) {\r\n            showToast('error', 'error')\r\n        }\r\n\r\n    }\r\n\r\n    const updateTask = async (task) => {\r\n        //console.log(task)\r\n        setTasks(\r\n            tasks.map((oldTask) => task.id === oldTask.id ? task : oldTask)\r\n        )\r\n    }\r\n\r\n    function calendarBtnClick(e) {\r\n        e.currentTarget.blur()\r\n        setShowCalendarView(!showCalendarView)\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Header\r\n                onAdd={() => setShowAddTask(!showAddTask)}\r\n                showAdd={showAddTask} />\r\n            <AddTask isToggled={showAddTask}\r\n                tasks={tasks} setTasks={setTasks}\r\n                setShowAddTask={setShowAddTask} />\r\n            <div id='divBtnContainer'>\r\n                <Button text={showCalendarView ? ('Show List View') : ('Show Calendar View')}\r\n                    textColor='white'\r\n                    onClick={calendarBtnClick}\r\n                />\r\n            </div>\r\n            {!isLoading ? (\r\n                (tasks.length > 0) ? (\r\n                    (showCalendarView) ?\r\n                        (<Calendar tasks={tasks} setTasks={setTasks} />) :\r\n                        (<Tasks\r\n                            tasks={tasks}\r\n                            onDelete={onDelete}\r\n                            onToggle={toggleReminder}\r\n                            onGoToDetail={() => { setShowAddTask(false) }} />)\r\n                    ) :\r\n                    ('No Tasks To Show')\r\n            ) : ('Loading ...')}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default TaskTracker",["210","211"],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-tracker\\Calendar.js",["212","213","214"],"﻿import FullCalendar from '@fullcalendar/react'\r\nimport dayGridPlugin from '@fullcalendar/daygrid'\r\nimport listPlugin from '@fullcalendar/list'\r\nimport interactionPlugin from '@fullcalendar/interaction'\r\nimport { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useToken} from '../api-authorization/UserContext'\r\nimport Constant from '../Constant'\r\nimport { useShowToast } from '../toast/ToastContext'\r\nimport CoolColor from './CoolColor'\r\n\r\n\r\nconst Calendar = ({tasks, setTasks}) => {\r\n\r\n    //function f() = {\r\n    //    \r\n    //}\r\n    const [events, setEvents] = useState([])\r\n    const [isEditable, setIsEditable] = useState(true)\r\n    let history = useHistory()\r\n    const { token } = useToken()\r\n    const showToast = useShowToast()\r\n    //const initialView = useCallback(() => {}, [])\r\n\r\n    function getTitleWithEmojis(task) {\r\n        if (task?.isCompleted) return task.text + ' ✔️'\r\n        //console.log(new Date())\r\n        //console.log(new Date(task.day))\r\n        //console.log(new Date(task.day) <= new Date())\r\n        ////let x = new Date(`${task.day.GetFullYear()}-${task.day.GetMonth()}-${task.day.GetDay()}`);\r\n        //console.log(x)\r\n\r\n        if (!task?.isCompleted && (new Date(task.day) <= new Date())) return task.text + ' ❗'\r\n           // && task.day >= new Date()\r\n        else return task.text\r\n\r\n    }\r\n\r\n    function filterAndMap(arr) {\r\n        const result = arr.filter(task => !task?.date)\r\n        return result.map(\r\n            (task) => ({\r\n                id: task.id, title: getTitleWithEmojis(task), borderColor: CoolColor(task.id), backgroundColor: CoolColor(task.id),\r\n                start: task.day, end: task.day,\r\n                extendedProps: {\r\n                    completed: task.isCompleted,\r\n                    dateCompleted: task.dateCompleted,\r\n                    day: task.day\r\n                }\r\n            })\r\n        )\r\n    }\r\n\r\n    useEffect(() => {\r\n        \r\n        setEvents(filterAndMap(tasks))\r\n\r\n        return function cleanup() {\r\n            setEvents([])\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        \r\n        setEvents(filterAndMap(tasks))\r\n\r\n\r\n    }, [tasks])\r\n\r\n    //const handleDateClick = (arg) => { // bind with an arrow function\r\n    //    alert(arg.dateStr)        \r\n    //}\r\n\r\n    const handleEventClick = (arg) => {\r\n        //console.log(arg.event.id)\r\n        history.push(`/task/${arg.event.id}`)\r\n    }\r\n\r\n    const handleEventDrop = async (args) => {\r\n        setIsEditable(false)\r\n        //console.log(args)\r\n        console.log(args.event.start)\r\n        //console.log(args.event.id)\r\n        //console.log(token)\r\n        let date = new Date(args.event.start).toISOString()\r\n        \r\n        console.log(date)\r\n        try {\r\n            const res = await fetch(`${Constant()}/api/tasks/${args.event.id}/UpdateTaskDate?date=${date}`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token?.token\r\n                }\r\n            })\r\n        \r\n            const data = await res.json()\r\n            \r\n            setIsEditable(true)\r\n\r\n            setTasks(\r\n                tasks.map((task) =>\r\n                    task.id === data.id ? data : task\r\n                )\r\n            )\r\n        }\r\n        catch (error) {\r\n            showToast('error', 'error')\r\n        }        \r\n    }\r\n\r\n\r\n    const onWindowResize = (arg) => {\r\n        console.log(arg.view.calendar);\r\n        if (window.innerWidth > 375 ) {\r\n            arg.view.calendar.changeView('dayGridMonth')\r\n        }\r\n        else {\r\n            arg.view.calendar.changeView('listWeek')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <> \r\n            <FullCalendar\r\n                    plugins={[ dayGridPlugin, interactionPlugin, listPlugin ]}\r\n                    eventClick={handleEventClick}\r\n                    initialView={window.innerWidth > 375 ?  'dayGridMonth' : 'listWeek'}\r\n                    editable={isEditable}\r\n                    eventDrop={handleEventDrop}\r\n                    events={events}\r\n                    handleWindowResize={true}\r\n                    windowResize={onWindowResize}\r\n                />         \r\n        </>\r\n        \r\n    )\r\n}\r\n\r\nexport default Calendar\r\n","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\comment-components\\CommentForm.js",["215"],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\Button.js",[],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-crud-operations\\CreateTask.js",["216"],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\comment-components\\Comments.js",["217","218"],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-crud-operations\\DeleteTask.js",["219"],"﻿import Constant from '../Constant'\r\n\r\n\r\nconst DeleteTask = async (id, token) => {\r\n\r\n    await fetch(`${Constant()}/api/tasks/${id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            'Authorization': 'Bearer ' + token\r\n        }\r\n    })\r\n    //.filter removes the task with the same id as the id passed up\r\n    \r\n}\r\n\r\nexport default DeleteTask","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-crud-operations\\UpdateTask.js",[],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\TaskDetails.js",["220","221","222","223","224"],"import { useParams } from 'react-router-dom'\r\nimport { useState, useEffect } from 'react'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Button from './Button'\r\nimport EditTask from './EditTask'\r\nimport FormatDateString from './FormatDateString'\r\nimport FetchTask from './task-crud-operations/FetchTask'\r\nimport CommentSection from './comment-components/CommentSection'\r\nimport { useShowToast } from './toast/ToastContext'\r\nimport { useToken } from './api-authorization/UserContext'\r\nimport UpdateTask from './task-crud-operations/UpdateTask'\r\n\r\nconst TaskDetails = () => {\r\n\r\n    //gets the params passed in from the router\r\n    //is a react hook\r\n    const { id } = useParams()\r\n    const { token } = useToken()\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [task, setTask] = useState(null)\r\n    const [showEditTask, setShowEditTask] = useState(false)\r\n    const [comments, setComments] = useState()\r\n    const showToast = useShowToast() \r\n    const history = useHistory();\r\n   \r\n    const coolColor = (i) => {\r\n        i = i > 3 ? i % 4 : i \r\n        switch(i) {\r\n          case 0:\r\n            return 'pink';\r\n          case 1:\r\n            return 'white';\r\n          case 2:\r\n            return 'orange';\r\n          case 3:\r\n              return 'green';\r\n          default:\r\n            return '';\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        //console.log(\"using effect: task details\")\r\n        // Fetch Task\r\n        const fetchTask = FetchTask\r\n\r\n        const getTask = async () => {          \r\n            try {       \r\n                const taskFromServer = await FetchTask(id, token?.token)         \r\n                setTask(taskFromServer)\r\n                //console.log(taskFromServer)\r\n                //setComments(taskFromServer.comments)\r\n                setIsLoading(false)\r\n            } catch (error) {\r\n                console.log(\"failed\") \r\n                console.log(error);\r\n            }   \r\n        }\r\n      \r\n        getTask()\r\n\r\n    }, []) \r\n\r\n    const onCancel = () => {\r\n        setShowEditTask(!showEditTask)\r\n    }\r\n\r\n    const update = async (task) => {\r\n        setIsLoading(true)\r\n        try {\r\n            task.userId = token?.id\r\n            setShowEditTask(!showEditTask)\r\n            const updTask = await UpdateTask(task, token?.token)\r\n            setTask(updTask)\r\n            setIsLoading(false)\r\n            showToast('success', `Updated \"${task.text}\"`)\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {!isLoading ? (\r\n                <div>    \r\n                    {!showEditTask && (\r\n                        <div className=\"taskDetail\">\r\n                            <h3>\r\n                                {task.text}\r\n                            </h3>\r\n                            <hr></hr>\r\n                            <p>\r\n                                Category: {task.category}\r\n                            </p>\r\n                            <p>\r\n                                Location: {task.location}\r\n                            </p>\r\n                            {task?.day &&\r\n                                (<p>\r\n                                    Day: {FormatDateString(task.day)}\r\n                                </p>)\r\n                            }\r\n                            \r\n                            <p>\r\n                                Details: {task.details !== undefined ? task.details : \"None\"}\r\n                            </p>    \r\n                            { task.isCompleted && (\r\n                                <p>Completed On: {FormatDateString(task.dateCompleted)}</p>\r\n                            )}\r\n                            <Button\r\n                                color='green'\r\n                                text='← Back'\r\n                                onClick={history.goBack}\r\n                            />\r\n                            <Button                                \r\n                                text='Edit Task'\r\n                                onClick={() => setShowEditTask(!showEditTask)}\r\n                            />\r\n                            \r\n                            {(comments != undefined) && (\r\n                                <CommentSection comments={comments} taskId={id} /> \r\n                            )}                         \r\n                        </div>\r\n                    )}                               \r\n\r\n                    {showEditTask && (\r\n                        <EditTask task={task} onUpdate={update} onCancel={onCancel} />\r\n                    )}        \r\n                </div>) : (\r\n                <div>\r\n                    <h1>Loading ...</h1>\r\n                </div>\r\n            )}           \r\n        </>        \r\n    )\r\n}\r\n\r\nexport default TaskDetails","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-tracker\\Tasks.js",["225","226"],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\comment-components\\CommentSection.js",["227","228","229"],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\toast\\Toast.js",["230"],"import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useToast } from './ToastContext'\r\n\r\nimport './Toast.css';\r\n//source:     transition: max-height 0.5s, opacity 0.5s;\r\nconst Toast = ({ position, autoDelete, dismissTime }) => {\r\n    const toastList = useToast()\r\n    const [list, setList] = useState(toastList)\r\n\r\n    //function sleep(ms) {\r\n    //    console.log('sleeping')\r\n    //    return new Promise(resolve => setTimeout(resolve, ms));\r\n    //  }\r\n\r\n    useEffect(() => {\r\n        //console.log('toastlist side effect')\r\n        //console.log(toastList)\r\n        setList([...toastList]);\r\n\r\n        // eslint-disable-next-line\r\n    }, [toastList]);\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(async () => {\r\n            if (autoDelete && toastList.length && list.length) {            \r\n                deleteToast(toastList[0].id);\r\n            }\r\n        }, dismissTime);\r\n\r\n        return async () => {                     \r\n            clearInterval(interval);\r\n        }\r\n\r\n        // eslint-disable-next-line\r\n    }, [toastList, autoDelete, dismissTime, list]);\r\n\r\n    const deleteToast = id => {\r\n        const listItemIndex = list.findIndex(e => e.id === id);\r\n        const toastListItem = toastList.findIndex(e => e.id === id);\r\n        list.splice(listItemIndex, 1);\r\n        toastList.splice(toastListItem, 1);\r\n        setList([...list]);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={`notification-container ${position}`}>\r\n                {\r\n                    list.map((toast, i) =>\r\n                        <div\r\n                            key={i}\r\n                            className={`notification toast ${('hidden' in toast) ? ('hidden') : ('show')} ${position}`}\r\n                            style={{ backgroundColor: toast.backgroundColor }}\r\n                        >\r\n                            <button onClick={() => deleteToast(toast.id)}>\r\n                                X\r\n                            </button>\r\n                            <div className=\"notification-image\">\r\n                                <img src={toast.icon} alt=\"\" />\r\n                            </div>\r\n                            <div>\r\n                                <p className=\"notification-title\">{toast.title}</p>\r\n                                <p className=\"notification-message\">\r\n                                    {toast.description}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n\r\n    Toast.defaultProps = {\r\n        position: 'bottom-right'\r\n    }\r\n\r\n    Toast.propTypes = {\r\n        toastList: PropTypes.array.isRequired,\r\n        position: PropTypes.string,\r\n        autoDelete: PropTypes.bool,\r\n        autoDeleteTime: PropTypes.number\r\n    }\r\n}\r\n\r\nexport default Toast\r\n\r\n","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\FormatDateString.js",[],["231","232"],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\Helpers.js",["233"],"﻿const Helpers = {\r\n    'replaceNullWithEmptyString': (str) => {\r\n        if (str === null) return ''\r\n        return str\r\n    }\r\n}\r\n\r\nexport default Helpers","C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\api-authorization\\Login.js",[],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\EditTask.js",[],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-tracker\\CoolColor.js",[],"C:\\Users\\lritter\\Source\\Repos\\react-crash-2021\\react-crash-2021.app\\ClientApp\\src\\components\\task-tracker\\Header.js",[],{"ruleId":"234","replacedBy":"235"},{"ruleId":"236","replacedBy":"237"},{"ruleId":"234","replacedBy":"238"},{"ruleId":"236","replacedBy":"239"},{"ruleId":"234","replacedBy":"240"},{"ruleId":"236","replacedBy":"241"},{"ruleId":"234","replacedBy":"242"},{"ruleId":"236","replacedBy":"243"},{"ruleId":"234","replacedBy":"244"},{"ruleId":"236","replacedBy":"245"},{"ruleId":"246","severity":1,"message":"247","line":30,"column":27,"nodeType":"248","messageId":"249","endLine":30,"endColumn":29},{"ruleId":"250","severity":1,"message":"251","line":44,"column":8,"nodeType":"252","endLine":44,"endColumn":10,"suggestions":"253"},{"ruleId":"254","severity":1,"message":"255","line":96,"column":13,"nodeType":"256","messageId":"257","endLine":96,"endColumn":16},{"ruleId":"254","severity":1,"message":"255","line":112,"column":13,"nodeType":"256","messageId":"257","endLine":112,"endColumn":16},{"ruleId":"258","severity":1,"message":"259","line":1,"column":1,"nodeType":"260","messageId":"249","fix":"261"},{"ruleId":"262","severity":1,"message":"263","line":39,"column":112,"nodeType":"264","endLine":39,"endColumn":135},{"ruleId":"254","severity":1,"message":"265","line":5,"column":8,"nodeType":"256","messageId":"257","endLine":5,"endColumn":19},{"ruleId":"234","replacedBy":"266"},{"ruleId":"236","replacedBy":"267"},{"ruleId":"254","severity":1,"message":"268","line":50,"column":24,"nodeType":"256","messageId":"257","endLine":50,"endColumn":37},{"ruleId":"254","severity":1,"message":"269","line":51,"column":28,"nodeType":"256","messageId":"257","endLine":51,"endColumn":45},{"ruleId":"254","severity":1,"message":"270","line":58,"column":11,"nodeType":"256","messageId":"257","endLine":58,"endColumn":26},{"ruleId":"246","severity":1,"message":"247","line":125,"column":19,"nodeType":"248","messageId":"249","endLine":125,"endColumn":21},{"ruleId":"246","severity":1,"message":"247","line":158,"column":23,"nodeType":"248","messageId":"249","endLine":158,"endColumn":25},{"ruleId":"250","severity":1,"message":"271","line":164,"column":8,"nodeType":"252","endLine":164,"endColumn":15,"suggestions":"272"},{"ruleId":"234","replacedBy":"273"},{"ruleId":"236","replacedBy":"274"},{"ruleId":"234","replacedBy":"275"},{"ruleId":"236","replacedBy":"276"},{"ruleId":"258","severity":1,"message":"259","line":1,"column":1,"nodeType":"260","messageId":"249","fix":"277"},{"ruleId":"234","replacedBy":"278"},{"ruleId":"236","replacedBy":"279"},{"ruleId":"254","severity":1,"message":"280","line":4,"column":8,"nodeType":"256","messageId":"257","endLine":4,"endColumn":16},{"ruleId":"258","severity":1,"message":"259","line":1,"column":1,"nodeType":"260","messageId":"249","fix":"281"},{"ruleId":"246","severity":1,"message":"247","line":30,"column":27,"nodeType":"248","messageId":"249","endLine":30,"endColumn":29},{"ruleId":"250","severity":1,"message":"282","line":46,"column":8,"nodeType":"252","endLine":46,"endColumn":10,"suggestions":"283"},{"ruleId":"254","severity":1,"message":"284","line":83,"column":11,"nodeType":"256","messageId":"257","endLine":83,"endColumn":21},{"ruleId":"234","replacedBy":"285"},{"ruleId":"236","replacedBy":"286"},{"ruleId":"258","severity":1,"message":"259","line":1,"column":1,"nodeType":"260","messageId":"249","fix":"287"},{"ruleId":"250","severity":1,"message":"288","line":61,"column":8,"nodeType":"252","endLine":61,"endColumn":10,"suggestions":"289"},{"ruleId":"250","severity":1,"message":"290","line":68,"column":8,"nodeType":"252","endLine":68,"endColumn":15,"suggestions":"291"},{"ruleId":"254","severity":1,"message":"292","line":8,"column":20,"nodeType":"256","messageId":"257","endLine":8,"endColumn":28},{"ruleId":"258","severity":1,"message":"259","line":1,"column":1,"nodeType":"260","messageId":"249","fix":"293"},{"ruleId":"254","severity":1,"message":"294","line":1,"column":8,"nodeType":"256","messageId":"257","endLine":1,"endColumn":13},{"ruleId":"254","severity":1,"message":"295","line":2,"column":10,"nodeType":"256","messageId":"257","endLine":2,"endColumn":18},{"ruleId":"258","severity":1,"message":"259","line":1,"column":1,"nodeType":"260","messageId":"249","fix":"296"},{"ruleId":"254","severity":1,"message":"297","line":22,"column":22,"nodeType":"256","messageId":"257","endLine":22,"endColumn":33},{"ruleId":"254","severity":1,"message":"298","line":26,"column":11,"nodeType":"256","messageId":"257","endLine":26,"endColumn":20},{"ruleId":"254","severity":1,"message":"299","line":45,"column":15,"nodeType":"256","messageId":"257","endLine":45,"endColumn":24},{"ruleId":"250","severity":1,"message":"300","line":62,"column":8,"nodeType":"252","endLine":62,"endColumn":10,"suggestions":"301"},{"ruleId":"246","severity":1,"message":"247","line":120,"column":40,"nodeType":"248","messageId":"249","endLine":120,"endColumn":42},{"ruleId":"250","severity":1,"message":"302","line":32,"column":8,"nodeType":"252","endLine":32,"endColumn":29,"suggestions":"303"},{"ruleId":"250","severity":1,"message":"304","line":42,"column":8,"nodeType":"252","endLine":42,"endColumn":20,"suggestions":"305"},{"ruleId":"258","severity":1,"message":"259","line":1,"column":1,"nodeType":"260","messageId":"249","fix":"306"},{"ruleId":"254","severity":1,"message":"295","line":3,"column":10,"nodeType":"256","messageId":"257","endLine":3,"endColumn":18},{"ruleId":"254","severity":1,"message":"307","line":3,"column":20,"nodeType":"256","messageId":"257","endLine":3,"endColumn":29},{"ruleId":"308","severity":1,"message":"309","line":75,"column":5,"nodeType":"310","messageId":"311","endLine":84,"endColumn":6},{"ruleId":"234","replacedBy":"312"},{"ruleId":"236","replacedBy":"313"},{"ruleId":"258","severity":1,"message":"259","line":1,"column":1,"nodeType":"260","messageId":"249","fix":"314"},"no-native-reassign",["315"],"no-negated-in-lhs",["316"],["315"],["316"],["315"],["316"],["315"],["316"],["315"],["316"],"eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'onSave' and 'token'. Either include them or remove the dependency array.","ArrayExpression",["317"],"no-unused-vars","'res' is assigned a value but never used.","Identifier","unusedVar","unicode-bom","Unexpected Unicode BOM (Byte Order Mark).","Program",{"range":"318","text":"319"},"react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","'warningIcon' is defined but never used.",["315"],["316"],"'setCheckValue' is assigned a value but never used.","'setAutoDeleteTime' is assigned a value but never used.","'getConnectionId' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'connection', 'setAlertsOnLogin', and 'showToast'. Either include them or remove the dependency array.",["320"],["315"],["316"],["315"],["316"],{"range":"321","text":"319"},["315"],["316"],"'Constant' is defined but never used.",{"range":"322","text":"319"},"React Hook useEffect has missing dependencies: 'showToast' and 'token'. Either include them or remove the dependency array.",["323"],"'updateTask' is assigned a value but never used.",["315"],["316"],{"range":"324","text":"319"},"React Hook useEffect has missing dependencies: 'filterAndMap' and 'tasks'. Either include them or remove the dependency array. If 'setEvents' needs the current value of 'tasks', you can also switch to useReducer instead of useState and read 'tasks' in the reducer.",["325"],"React Hook useEffect has a missing dependency: 'filterAndMap'. Either include it or remove the dependency array.",["326"],"'setToken' is assigned a value but never used.",{"range":"327","text":"319"},"'Table' is defined but never used.","'useState' is defined but never used.",{"range":"328","text":"319"},"'setComments' is assigned a value but never used.","'coolColor' is assigned a value but never used.","'fetchTask' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'id' and 'token?.token'. Either include them or remove the dependency array.",["329"],"React Hook useCallback has an unnecessary dependency: 'pageNumber'. Either exclude it or remove the dependency array.",["330"],"React Hook useEffect has missing dependencies: 'showCompleted' and 'tasks'. Either include them or remove the dependency array.",["331"],{"range":"332","text":"319"},"'useEffect' is defined but never used.","no-unreachable","Unreachable code.","ExpressionStatement","unreachableCode",["315"],["316"],{"range":"333","text":"319"},"no-global-assign","no-unsafe-negation",{"desc":"334","fix":"335"},[-1,0],"",{"desc":"336","fix":"337"},[-1,0],[-1,0],{"desc":"338","fix":"339"},[-1,0],{"desc":"340","fix":"341"},{"desc":"340","fix":"342"},[-1,0],[-1,0],{"desc":"343","fix":"344"},{"desc":"345","fix":"346"},{"desc":"347","fix":"348"},[-1,0],[-1,0],"Update the dependencies array to be: [onSave, token]",{"range":"349","text":"350"},"Update the dependencies array to be: [connection, setAlertsOnLogin, showToast, token]",{"range":"351","text":"352"},"Update the dependencies array to be: [showToast, token]",{"range":"353","text":"354"},"Update the dependencies array to be: [filterAndMap, tasks]",{"range":"355","text":"356"},{"range":"357","text":"356"},"Update the dependencies array to be: [id, token?.token]",{"range":"358","text":"359"},"Update the dependencies array to be: [hasMore]",{"range":"360","text":"361"},"Update the dependencies array to be: [pageNumber, showCompleted, tasks]",{"range":"362","text":"363"},[1527,1529],"[onSave, token]",[5757,5764],"[connection, setAlertsOnLogin, showToast, token]",[1757,1759],"[showToast, token]",[2093,2095],"[filterAndMap, tasks]",[2184,2191],[2004,2006],"[id, token?.token]",[1512,1533],"[hasMore]",[1806,1818],"[pageNumber, showCompleted, tasks]"]